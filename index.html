<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Estimate when BioStore II Capacity will be Reached • biostoreCapacity</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Estimate when BioStore II Capacity will be Reached">
<meta name="description" content="Takes historical date and incorporates changes to the protocol to estimate when BioStore II will be full.">
<meta property="og:description" content="Takes historical date and incorporates changes to the protocol to estimate when BioStore II will be full.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">biostoreCapacity</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="biostorecapacity">biostoreCapacity<a class="anchor" aria-label="anchor" href="#biostorecapacity"></a>
</h1></div>
<!-- badges: start -->

<p>The goal of <code>biostoreCapacity</code> is to attempt to predict when VUMC’s institutional resource <a href="https://www.vumc.org/oor/index.php/vumc-biospecimen-storage" class="external-link">BioStore II freezer</a> will be full and unable to store any additional ECHO biospecimens.</p>
<p>To estimate this, the data in the model should try to include:</p>
<ul>
<li>Historical data of the rate of freezer filling from ECHO. <span class="math inline">$\color{green}{\text{✓}}$</span><br>
</li>
<li>Current and future biospecimen kit builds. <span class="math inline">$\color{green}{\text{✓}}$</span>
</li>
<li>Expected number of biospecimens to be collected over time. <span class="math inline">$\color{red}{\text{✘}}$</span>
</li>
</ul>
<p><span style="font-size: 8pt;">(<span class="math inline">$\color{green}{\text{✓}}$</span>) means we have that data.<br>
(<span class="math inline">$\color{red}{\text{✘}}$</span>) means <strong>WE AS THE LAB CORE</strong> are missing (some of) that specific information, but it does exist!</span>.</p>
<div class="section level2">
<h2 id="what-is-the-total-biostore-ii-capacity">What is the total BioStore II capacity?<a class="anchor" aria-label="anchor" href="#what-is-the-total-biostore-ii-capacity"></a>
</h2>
<p>The simplest equation for calculating BioStore capacity is:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mo stretchy="true" form="prefix">(</mo><mn>196</mn><mo>,</mo><mn>412</mn><mo>+</mo><mi>x</mi><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mn>788</mn><mo>,</mo><mn>256</mn></mrow></mfrac><mo>+</mo><mfrac><mrow><mo stretchy="true" form="prefix">(</mo><mn>212</mn><mo>,</mo><mn>692</mn><mo>+</mo><mi>y</mi><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mn>438</mn><mo>,</mo><mn>840</mn></mrow></mfrac><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\frac{(196,412 + x)}{788,256} + \frac{(212,692 + y)}{438,840} = 1</annotation></semantics></math></p>
<p>where:<br>
* <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>196</mn><mo>,</mo><mn>412</mn></mrow><annotation encoding="application/x-tex">196,412</annotation></semantics></math> is the number of ECHO 1.0 ml tubes already stored (or pending) in the BioStore (as of 2025-09-02).<br>
* <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>x</mi><annotation encoding="application/x-tex">x</annotation></semantics></math> is the number of 1.0 ml tubes still to be collected for ECHO.<br>
* <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>212</mn><mo>,</mo><mn>692</mn></mrow><annotation encoding="application/x-tex">212,692</annotation></semantics></math> is the number of ECHO 1.9 ml tubes already stored (or pending) in the BioStore (as of 2025-09-02).<br>
* <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>y</mi><annotation encoding="application/x-tex">y</annotation></semantics></math> is the number of 1.9 ml tubes still to be collected for ECHO.<br>
* <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>788</mn><mo>,</mo><mn>256</mn></mrow><annotation encoding="application/x-tex">788,256</annotation></semantics></math> is the absolute maximum number of 1.0 ml tubes that can be stored in the BioStore (assuming 0 1.9 ml tubes).<br>
* <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>438</mn><mo>,</mo><mn>840</mn></mrow><annotation encoding="application/x-tex">438,840</annotation></semantics></math> is the absolute maximum number of 1.0 ml tubes that can be stored in the BioStore (assuming 0 1.9 ml tubes).</p>
<p>Both <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>x</mi><annotation encoding="application/x-tex">x</annotation></semantics></math> and <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>y</mi><annotation encoding="application/x-tex">y</annotation></semantics></math> can increase, but as one increases the capacity for the other decreases. The total capacity cannot exceed 1, or 100%.</p>
</div>
<div class="section level2">
<h2 id="what-should-go-into-the-forecast-model-of-when-the-biostore-will-be-at-capacity">What should go into the forecast model of when the BioStore will be at capacity?<a class="anchor" aria-label="anchor" href="#what-should-go-into-the-forecast-model-of-when-the-biostore-will-be-at-capacity"></a>
</h2>
<p>How can we estimate both <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>x</mi><annotation encoding="application/x-tex">x</annotation></semantics></math> and <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>y</mi><annotation encoding="application/x-tex">y</annotation></semantics></math> above, and when the capacity of the BioStore will be full?</p>
<p><strong>This is the data that I think we need to predict when the BioStore will be full:</strong></p>
<ul>
<li>Historical data (time series data on number of ECHO tubes added to the BioStore over time). <span class="math inline">$\color{green}{\text{✓}}$</span><br>
</li>
<li>Expected number of kits that will be collected by kit type over time. <span class="math inline">$\color{red}{\text{✘}}$</span>
<ul>
<li>Expected number of kits over time needs to include ability to handle complexities introduced due to “specialized” kits, which are not collected by all sites. <span class="math inline">$\color{yellow}{\text{◎}}$</span>
</li>
</ul>
</li>
<li>Number of tubes in current kit builds per each kit type. <span class="math inline">$\color{green}{\text{✓}}$</span><br>
</li>
<li>Proportion of tubes from each kit type expected to be sent back to the biorepository. (e.g., may get only a tiny bit of urine from young babies, and so may not receive all three 1.9ml tubes for storage). <span class="math inline">$\color{yellow}{\text{◎}}$</span>
</li>
</ul>
<div class="section level3">
<h3 id="general-proposed-model-structure">General proposed model structure<a class="anchor" aria-label="anchor" href="#general-proposed-model-structure"></a>
</h3>
<p>Here’s an idea of the kind of formula I’m thinking of, where <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>F</mi></mrow><annotation encoding="application/x-tex">FF</annotation></semantics></math> is “Freezer Filling”:</p>
<p>First, we can attempt to make a model using the historical data of ECHO submissions to the BioStore:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><msub><mi>F</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mi>f</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>F</mi><msub><mi>F</mi><mi>t</mi></msub><mo>+</mo><mi>F</mi><msub><mi>F</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><mi>F</mi><msub><mi>F</mi><mrow><mi>t</mi><mo>−</mo><mn>2</mn></mrow></msub><mo>+</mo><mi>⋯</mi><mo>+</mo><mi>e</mi><mi>r</mi><mi>r</mi><mi>o</mi><mi>r</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">FF_{t+1} = f(FF_{t} + FF_{t-1} + FF_{t-2} + \cdots + error)</annotation></semantics></math></p>
<p>Second, we know there were changes to the ECHO protocol that will mean the historical rate of data can’t be relied on alone, as we need to consider other predictor variables:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><msub><mi>F</mi><mrow><mi>p</mi><mi>v</mi></mrow></msub><mo>=</mo><mi>f</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>e</mi><mi>n</mi><mi>r</mi><mi>o</mi><mi>l</mi><mi>l</mi><mi>m</mi><mi>e</mi><mi>n</mi><mi>t</mi><mo>,</mo><mi>c</mi><mi>o</mi><mi>l</mi><mi>l</mi><mi>e</mi><mi>c</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>,</mo><mi>t</mi><mi>u</mi><mi>b</mi><mi>e</mi><mi>s</mi><mo>,</mo><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi><mo>,</mo><mi>e</mi><mi>r</mi><mi>r</mi><mi>o</mi><mi>r</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">FF_{pv} = f(enrollment, collection, tubes, loss, error)</annotation></semantics></math></p>
<p>where:<br><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi><mi>n</mi><mi>r</mi><mi>o</mi><mi>l</mi><mi>l</mi><mi>m</mi><mi>e</mi><mi>n</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">enrollment</annotation></semantics></math> is the expected number of participants from whom specimens will be collected from. WE DO NOT HAVE THIS DATA.<br><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mi>o</mi><mi>l</mi><mi>l</mi><mi>e</mi><mi>c</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">collection</annotation></semantics></math> is the biospecimen collection schedule over time.<br><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mi>u</mi><mi>b</mi><mi>e</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">tubes</annotation></semantics></math> is the number of tubes per each biospecimen collection kit.<br><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">loss</annotation></semantics></math> is some sort of drop-out rate; participant drop-out, not all tubes from a kit being returned to the biorepository, etc.</p>
<p>The final model would be something mixing the two above models:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><msub><mi>F</mi><mrow><mi>m</mi><mi>i</mi><mi>x</mi><mi>e</mi><mi>d</mi></mrow></msub><mo>=</mo><mi>f</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>F</mi><msub><mi>F</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>,</mo><mi>F</mi><msub><mi>F</mi><mrow><mi>p</mi><mi>v</mi><mo>,</mo><mi>e</mi><mi>r</mi><mi>r</mi><mi>o</mi><mi>r</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">FF_{mixed} = f(FF_{t+1},FF_{pv, error})</annotation></semantics></math></p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi><mi>r</mi><mi>r</mi><mi>o</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">error</annotation></semantics></math> in all models isn’t mean to indicate error in the colloquial sense, but to allow for random variation and the effects of variables not captured in the model.</p>
</div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>You can install the development version of biostoreCapacity from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("pak")</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"mshilts1/biostoreCapacity"</span><span class="op">)</span></span></code></pre></div>
<p>Eventually, I’m going to <em>attempt</em> to put this on Shiny so it’s easy for anyone to use, but I will still keep the source code transparent on GitHub.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mshilts1.github.io/biostoreCapacity/">biostoreCapacity</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Registered S3 method overwritten by 'quantmod':</span></span>
<span><span class="co">#&gt;   method            from</span></span>
<span><span class="co">#&gt;   as.zoo.data.frame zoo</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="load-in-data-above-that-we-do-have">Load in data above that we do have<a class="anchor" aria-label="anchor" href="#load-in-data-above-that-we-do-have"></a>
</h2>
<div class="section level3">
<h3 id="historical-data">Historical data<a class="anchor" aria-label="anchor" href="#historical-data"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">historical_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/readHistorical.html">readHistorical</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">historical_data_long</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/longifyReadHistorical.html">longifyReadHistorical</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># same thing as above, but in "long" format for easier plotting</span></span>
<span><span class="va">historical_data_long_proportions</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/longifyReadHistorical.html">longifyReadHistorical</a></span><span class="op">(</span>total_or_prop <span class="op">=</span> <span class="st">"prop"</span><span class="op">)</span> <span class="co"># same as directly above, but proportions of freezer capacity instead of raw numbers</span></span></code></pre></div>
<div class="section level4">
<h4 id="plot-rate-of-accessioning-over-time">Plot rate of accessioning over time:<a class="anchor" aria-label="anchor" href="#plot-rate-of-accessioning-over-time"></a>
</h4>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">historical_data_long</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">date</span>, y <span class="op">=</span> <span class="va">total</span>, colour <span class="op">=</span> <span class="va">tube_type</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">geom_smooth</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Cumulative Tubes Submitted to BioStore"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html" class="external-link">scale_x_date</a></span><span class="op">(</span>date_breaks <span class="op">=</span> <span class="st">"2 month"</span>, date_labels <span class="op">=</span> <span class="st">"%b %y"</span><span class="op">)</span></span>
<span><span class="co">#&gt; `geom_smooth()` using method = 'loess' and formula = 'y ~ x'</span></span></code></pre></div>
<p><img src="reference/figures/README-plot_history-1.png" width="100%"></p>
</div>
<div class="section level4">
<h4 id="plot-overall-proportion-of-biostore-filled-over-time">Plot overall proportion of BioStore filled over time:<a class="anchor" aria-label="anchor" href="#plot-overall-proportion-of-biostore-filled-over-time"></a>
</h4>
<p>This includes “pending” tubes, which are tubes that are still at the sites but will be shipped here eventually and should be counted towards the BioStore’s total inventory.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="reference/longifyReadHistorical.html">longifyReadHistorical</a></span><span class="op">(</span>total_or_prop <span class="op">=</span> <span class="st">"prop"</span>, add_pending <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">date</span>, y <span class="op">=</span> <span class="va">total</span>, colour <span class="op">=</span> <span class="va">tube_type</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">geom_smooth</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Cumulative Proportion of BioStore Capacity Filled"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html" class="external-link">scale_x_date</a></span><span class="op">(</span>date_breaks <span class="op">=</span> <span class="st">"2 month"</span>, date_labels <span class="op">=</span> <span class="st">"%b %y"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span>yintercept <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; `geom_smooth()` using method = 'loess' and formula = 'y ~ x'</span></span></code></pre></div>
<p><img src="reference/figures/README-plot_history_prop-1.png" width="100%"></p>
</div>
</div>
<div class="section level3">
<h3 id="eric-koplins-arima-model">Eric Koplin’s ARIMA model<a class="anchor" aria-label="anchor" href="#eric-koplins-arima-model"></a>
</h3>
<p>Eric Koplin has built an ARIMA model using the forecast package to predict when the BioStore would be full based on the historical rate of filling:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/single_arima.html">single_arima</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-arima-1.png" width="100%"></p>
</div>
<div class="section level3">
<h3 id="site-collection-info-pushed-to-elvislims-from-bio-track">Site collection info pushed to elvislims from Bio-Track<a class="anchor" aria-label="anchor" href="#site-collection-info-pushed-to-elvislims-from-bio-track"></a>
</h3>
<p>Just created this function and testing if it’s working</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/site_collections.html">site_collections</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 204,017 × 16</span></span>
<span><span class="co">#&gt;    site_id_randomized               number_of_containers container_type capacity</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                                           &lt;int&gt; &lt;chr&gt;             &lt;int&gt;</span></span>
<span><span class="co">#&gt;  1 2f65c9a05b770edb650f839c06514908                  119 [FH prefixed]…       48</span></span>
<span><span class="co">#&gt;  2 2f65c9a05b770edb650f839c06514908                  119 [FH prefixed]…       48</span></span>
<span><span class="co">#&gt;  3 2f65c9a05b770edb650f839c06514908                  119 [FH prefixed]…       48</span></span>
<span><span class="co">#&gt;  4 2f65c9a05b770edb650f839c06514908                  119 [FH prefixed]…       48</span></span>
<span><span class="co">#&gt;  5 2f65c9a05b770edb650f839c06514908                  119 [FH prefixed]…       48</span></span>
<span><span class="co">#&gt;  6 2f65c9a05b770edb650f839c06514908                  119 [FH prefixed]…       48</span></span>
<span><span class="co">#&gt;  7 2f65c9a05b770edb650f839c06514908                  119 [FH prefixed]…       48</span></span>
<span><span class="co">#&gt;  8 2f65c9a05b770edb650f839c06514908                  119 [FH prefixed]…       48</span></span>
<span><span class="co">#&gt;  9 2f65c9a05b770edb650f839c06514908                  119 [FH prefixed]…       48</span></span>
<span><span class="co">#&gt; 10 2f65c9a05b770edb650f839c06514908                  119 [FH prefixed]…       48</span></span>
<span><span class="co">#&gt; # ℹ 204,007 more rows</span></span>
<span><span class="co">#&gt; # ℹ 12 more variables: number_of_specimen &lt;int&gt;, specimen_type &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   sample_type &lt;chr&gt;, storage_date &lt;chr&gt;, nominal_volume &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   partial_aliquot &lt;lgl&gt;, partial_volume &lt;dbl&gt;, tube_size &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   specialized_whole_blood &lt;int&gt;, specialized_breast_milk &lt;int&gt;,</span></span>
<span><span class="co">#&gt; #   specialized_urine &lt;int&gt;, shipped &lt;int&gt;</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="future-kit-builds-and-biospecimen-collection-protocol">Future kit builds and biospecimen collection protocol<a class="anchor" aria-label="anchor" href="#future-kit-builds-and-biospecimen-collection-protocol"></a>
</h2>
<p>We can’t really use this information yet, because we do not have a clear estimate of the number of participants.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">biospecimen_collections</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/readCollections.html">readCollections</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">biospecimen_collections</span></span>
<span><span class="co">#&gt; # A tibble: 27 × 29</span></span>
<span><span class="co">#&gt;    collection_id   kit_type biospecimen_type participant tube_size tubes_per_kit</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;           &lt;chr&gt;    &lt;chr&gt;            &lt;chr&gt;       &lt;chr&gt;             &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 breastmilk_1.9… breastm… breastmilk       maternal    1.9ml                 8</span></span>
<span><span class="co">#&gt;  2 breastmilk_1ml… breastm… breastmilk       maternal    1ml                  10</span></span>
<span><span class="co">#&gt;  3 cord_blood_1.9… cord_bl… cord_blood       child       1.9ml                 6</span></span>
<span><span class="co">#&gt;  4 cord_blood_1ml… cord_bl… cord_blood       child       1ml                  10</span></span>
<span><span class="co">#&gt;  5 placenta_1.9ml… placenta placenta         maternal    1.9ml                16</span></span>
<span><span class="co">#&gt;  6 urine_cup_mate… urine_c… urine            maternal    1.9ml                 3</span></span>
<span><span class="co">#&gt;  7 urine_cup_mate… urine_c… urine            maternal    1.9ml                 3</span></span>
<span><span class="co">#&gt;  8 urine_diaper_1… urine_d… urine            child       1.9ml                 3</span></span>
<span><span class="co">#&gt;  9 urine_cup_curr… urine_c… urine            partner     1.9ml                 3</span></span>
<span><span class="co">#&gt; 10 urine_cup_mate… urine_c… urine            maternal    1.9ml                 3</span></span>
<span><span class="co">#&gt; # ℹ 17 more rows</span></span>
<span><span class="co">#&gt; # ℹ 23 more variables: proportion_from_kit_collected &lt;dbl&gt;, visit &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   visit_logical_order &lt;dbl&gt;, specimen_type &lt;chr&gt;, y_2025 &lt;dbl&gt;, y_2026 &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   y_2027 &lt;dbl&gt;, y_2028 &lt;dbl&gt;, y_2029 &lt;dbl&gt;, y_2030 &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   y_2025_proportion &lt;dbl&gt;, y_2026_proportion &lt;dbl&gt;, y_2027_proportion &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   y_2028_proportion &lt;dbl&gt;, y_2029_proportion &lt;dbl&gt;, y_2030_proportion &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   specialized_obesity &lt;chr&gt;, specialized_obesity_proportion &lt;chr&gt;, …</span></span></code></pre></div>
<p><strong>Information in <code><a href="reference/readCollections.html">readCollections()</a></code> that can be assumed to be “true” and constant for the sake of building the model:</strong></p>
<ul>
<li>All columns with information about the kit builds:
<ul>
<li>
<code>collection_id</code>, <code>kit_type</code>, <code>biospecimen_type</code>, <code>participant</code>, <code>tube_size</code>, <code>tubes_per_kit</code>.<br>
</li>
</ul>
</li>
<li>All columns about the biospecimen collection timeline:
<ul>
<li>
<code>visit</code>, <code>specimen_type</code>, <code>y_2025</code>, <code>y_2026</code>, <code>y_2027</code>, <code>y_2028</code>, <code>y_2029</code>, <code>y_2030</code>, <code>specialized_obesity</code>, <code>specialized_chemphys</code>, <code>specialized_lifestyle</code>.</li>
</ul>
</li>
</ul>
<p><strong>Speculative columns all contain the word “proportion” in the name:</strong></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="sc">*</span> <span class="st">`</span><span class="at">proportion_from_kit_collected</span><span class="st">`</span>, <span class="st">`</span><span class="at">y_2025_proportion</span><span class="st">`</span>, <span class="st">`</span><span class="at">y_2026_proportion</span><span class="st">`</span>, <span class="st">`</span><span class="at">y_2027_proportion</span><span class="st">`</span>, <span class="st">`</span><span class="at">y_2028_proportion</span><span class="st">`</span>, <span class="st">`</span><span class="at">y_2029_proportion</span><span class="st">`</span>, <span class="st">`</span><span class="at">y_2030_proportion</span><span class="st">`</span>, <span class="st">`</span><span class="at">specialized_obesity_proportion</span><span class="st">`</span>, <span class="st">`</span><span class="at">specialized_chemphys_proportion</span><span class="st">`</span>, <span class="st">`</span><span class="at">specialized_lifestyle_proportion</span><span class="st">`</span>.   </span></code></pre></div>
</div>
</div>
<div class="section level1">
<h1 id="only-read-below-if-you-want-more-details">Only read below if you want more details<a class="anchor" aria-label="anchor" href="#only-read-below-if-you-want-more-details"></a>
</h1>
<p>A more thorough description of every column in <code><a href="reference/readCollections.html">readCollections()</a></code>:</p>
<ol style="list-style-type: decimal">
<li>collection_id: a unique ID. a concatenation of kit_type, tube_size, visit, and specimen_type.<br>
</li>
<li>kit_type: concatenation of biospecimen_type and participant.<br>
</li>
<li>biospecimen_type: type of biospecimen being collected (e.g., urine or blood, etc…).<br>
</li>
<li>participant: specimen to be collected from an ECHO child, child’s mother, or child’s mother’s current partner.<br>
</li>
<li>tube_size: whether tube is 1.0mL or 1.9mL (1.9mL tubes take up more space in the BioStore.).<br>
</li>
<li>tubes_per_kit: number of tubes of specified size in that specific kit.<br>
</li>
<li>proportion_from_kit_collected. what proportion of tubes in that kit are we expecting to be returned to be stored in the BioStore? for example, newborn babies may not produce enough urine for all three 1.9mL tubes to be filled and returned. maybe only two will be returned.<br>
</li>
<li>visit. time point in child’s or child’s mother’s life when specimen is collected.<br>
</li>
<li>visit_logical_order. not really that useful here, but orders the visit column by the logical order of an ECHO child’s life (sort of; due to preconception protocol, that gets complicated).<br>
</li>
<li>specimen_type. is specimen considered by ECHO a core, preconception, or specialized specimen? this is important because sites are expected to at least try to collect every core specimen, while sites are only allowed to collected specific specialized specimens. the preconception specimens are somewhere in the middle.<br>
</li>
<li>y_2025. 1 (yes)/ 0 (no) column. is this specific specimen to be collected in calendar year 2025?<br>
</li>
<li>y_2026. same as for y_2025, but calendar year 2026.<br>
</li>
<li>y_2027. same as for y_2025, but calendar year 2027.<br>
</li>
<li>y_2028. same as for y_2025, but calendar year 2028.<br>
</li>
<li>y_2029. same as for y_2025, but calendar year 2029.<br>
</li>
<li>y_2030. same as for y_2025, but calendar year 2030.<br>
</li>
<li>y_2025_proportion: this is set to 0.25 because there’s only about 25% of calendar year 2025 left.</li>
<li>y_2026_proportion: leave at 1 unless there’s some reason to think specimens won’t be collected for all of 2026.<br>
</li>
<li>y_2027_proportion: leave at 1 unless there’s some reason to think specimens won’t be collected for all of 2027.<br>
</li>
<li>y_2028_proportion: leave at 1 unless there’s some reason to think specimens won’t be collected for all of 2028.<br>
</li>
<li>y_2029_proportion: leave at 1 unless there’s some reason to think specimens won’t be collected for all of 2029.<br>
</li>
<li>y_2030_proportion: leave at 1 unless there’s some reason to think specimens won’t be collected for all of 2030.<br>
</li>
<li>specialized_obesity: is that biospecimen being collected by sites where the PI selected “obesity” as an outcome of interest?<br>
</li>
<li>specialized_obesity_proportion: proportion of participants from sites where PI selected “obesity” as outcome of interest.<br>
</li>
<li>specialized_chemphys: is that biospecimen being collected by sites where the PI selected “Chemical/Phyical” as an exposure of interest?<br>
</li>
<li>specialized_chemphys_proportion: proportion of participants from sites where PI selected “Chemical/Physical” as exposure of interest.<br>
</li>
<li>specialized_lifestyle is that biospecimen being collected by sites where the PI selected “Lifestyle” as an exposure of interest?<br>
</li>
<li>specialized_lifestyle_proportion: proportion of participants from sites where PI selected “Lifestyle” as exposure of interest.<br>
</li>
<li>notes: general notes about the data for your reference.</li>
</ol>
<p>Green checkmark (<span class="math inline">$\color{green}{\text{✓}}$</span> ) means we have that data, a yellow dot (<span class="math inline">$\color{yellow}{\text{◎}}$</span>) means it’s speculative estimated data that we can kind of guess at, while a red x (<span class="math inline">$\color{red}{\text{✘}}$</span> ) means <strong>WE AS THE LAB CORE</strong> are missing that specific information but it does exist.</p>
</div>

  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing biostoreCapacity</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Meghan Shilts <br><small class="roles"> Author, maintainer </small>   </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://CRAN.R-project.org/package=biostoreCapacity" class="external-link"><img src="https://www.r-pkg.org/badges/version/biostoreCapacity" alt="CRAN status"></a></li>
<li><a href="https://github.com/mshilts1/biostoreCapacity/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/mshilts1/biostoreCapacity/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Meghan Shilts.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
